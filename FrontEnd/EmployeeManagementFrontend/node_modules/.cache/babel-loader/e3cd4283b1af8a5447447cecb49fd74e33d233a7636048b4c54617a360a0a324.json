{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useContext } from \"react\";\nfunction useFetchData(setArray, setServerState) {\n  _s();\n  useEffect(() => {\n    const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiWmV1IiwicGFzc3dvcmQiOiJwYXJvbGExMjMiLCJpYXQiOjE3MTU0MjU2MTQsImV4cCI6MTcxNTQyOTIxNH0.pF5TrkXKwo-pkhHRAaPRVB2UJXf1IHf8T9CLBch51XY\";\n    fetch(\"http://localhost:5000/api\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => response.json()).then(data => {\n      const sorted = data.sort((a, b) => {\n        let x = a.Name.toLowerCase();\n        let y = b.Name.toLowerCase();\n        return x < y ? -1 : x > y ? 1 : 0;\n      });\n      setArray(sorted);\n    }).catch(() => setServerState(false));\n  }, []);\n}\n_s(useFetchData, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nfunction deleted(id) {\n  fetch(`http://localhost:5000/delete/${id}`, {\n    method: \"DELETE\"\n  }).then(res => {\n    if (res.ok) window.location.reload();else if (res.status === 402) return response.text().then(message => {\n      alert(message);\n    });\n  }).catch(err => {\n    alert(\"Cannot delete user! He has pets\");\n    return;\n  });\n}\nexport default {\n  useFetchData,\n  deleted\n};","map":{"version":3,"names":["useEffect","useContext","useFetchData","setArray","setServerState","_s","token","fetch","headers","Authorization","then","response","json","data","sorted","sort","a","b","x","Name","toLowerCase","y","catch","deleted","id","method","res","ok","window","location","reload","status","text","message","alert","err"],"sources":["D:/FMI/fmi_an2(SEM2)/MPP/FrontEnd/crud_react/REACT_CRUD/src/hooks/useFetch.js"],"sourcesContent":["import { useEffect, useContext } from \"react\";\r\n\r\nfunction useFetchData(setArray, setServerState) {\r\n\tuseEffect(() => {\r\n\t\tconst token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiWmV1IiwicGFzc3dvcmQiOiJwYXJvbGExMjMiLCJpYXQiOjE3MTU0MjU2MTQsImV4cCI6MTcxNTQyOTIxNH0.pF5TrkXKwo-pkhHRAaPRVB2UJXf1IHf8T9CLBch51XY\";\r\n\r\n\t\tfetch(\"http://localhost:5000/api\", {\r\n\t\t\theaders: { Authorization: `Bearer ${token}` },\r\n\t\t})\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tconst sorted = data.sort((a, b) => {\r\n\t\t\t\t\tlet x = a.Name.toLowerCase();\r\n\t\t\t\t\tlet y = b.Name.toLowerCase();\r\n\t\t\t\t\treturn x < y ? -1 : x > y ? 1 : 0;\r\n\t\t\t\t});\r\n\t\t\t\tsetArray(sorted);\r\n\t\t\t})\r\n\t\t\t.catch(() => setServerState(false));\r\n\t}, []);\r\n}\r\n\r\nfunction deleted(id) {\r\n\tfetch(`http://localhost:5000/delete/${id}`, {\r\n\t\tmethod: \"DELETE\",\r\n\t})\r\n\t\t.then((res) => {\r\n\t\t\tif (res.ok) window.location.reload();\r\n\t\t\telse if (res.status === 402)\r\n\t\t\t\treturn response.text().then((message) => {\r\n\t\t\t\t\talert(message);\r\n\t\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\talert(\"Cannot delete user! He has pets\");\r\n\t\t\treturn;\r\n\t\t});\r\n}\r\n\r\nexport default { useFetchData, deleted };\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAE7C,SAASC,YAAYA,CAACC,QAAQ,EAAEC,cAAc,EAAE;EAAAC,EAAA;EAC/CL,SAAS,CAAC,MAAM;IACf,MAAMM,KAAK,GAAG,kLAAkL;IAEhMC,KAAK,CAAC,2BAA2B,EAAE;MAClCC,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASH,KAAM;MAAE;IAC7C,CAAC,CAAC,CACAI,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;MACf,MAAMC,MAAM,GAAGD,IAAI,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QAClC,IAAIC,CAAC,GAAGF,CAAC,CAACG,IAAI,CAACC,WAAW,CAAC,CAAC;QAC5B,IAAIC,CAAC,GAAGJ,CAAC,CAACE,IAAI,CAACC,WAAW,CAAC,CAAC;QAC5B,OAAOF,CAAC,GAAGG,CAAC,GAAG,CAAC,CAAC,GAAGH,CAAC,GAAGG,CAAC,GAAG,CAAC,GAAG,CAAC;MAClC,CAAC,CAAC;MACFlB,QAAQ,CAACW,MAAM,CAAC;IACjB,CAAC,CAAC,CACDQ,KAAK,CAAC,MAAMlB,cAAc,CAAC,KAAK,CAAC,CAAC;EACrC,CAAC,EAAE,EAAE,CAAC;AACP;AAACC,EAAA,CAlBQH,YAAY;AAoBrB,SAASqB,OAAOA,CAACC,EAAE,EAAE;EACpBjB,KAAK,CAAE,gCAA+BiB,EAAG,EAAC,EAAE;IAC3CC,MAAM,EAAE;EACT,CAAC,CAAC,CACAf,IAAI,CAAEgB,GAAG,IAAK;IACd,IAAIA,GAAG,CAACC,EAAE,EAAEC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,KAChC,IAAIJ,GAAG,CAACK,MAAM,KAAK,GAAG,EAC1B,OAAOpB,QAAQ,CAACqB,IAAI,CAAC,CAAC,CAACtB,IAAI,CAAEuB,OAAO,IAAK;MACxCC,KAAK,CAACD,OAAO,CAAC;IACf,CAAC,CAAC;EACJ,CAAC,CAAC,CACDX,KAAK,CAAEa,GAAG,IAAK;IACfD,KAAK,CAAC,iCAAiC,CAAC;IACxC;EACD,CAAC,CAAC;AACJ;AAEA,eAAe;EAAEhC,YAAY;EAAEqB;AAAQ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}